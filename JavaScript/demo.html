<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Demo</title>
    </head>
    <body>
        <<script>

        function getStuffFromDatabase(resolve,reject){
            var data = "whee"
            setTimeout(function(){
              // if (typeof(callback) == 'function'){
                data = [{name:'Todd'},{name:'Michael'},{name:'Portia'}];
                resolve(data);
              // }
            }, 1000);
            reject(); comment this line in and out!
            // return data;
        }
        function requestDataFromDatabase(){
          console.log('running');
          //creates promise
          var data = new Promise(function(resolve,reject){
            getStuffFromDatabase(resolve,reject); // kind of like a shiny callback
          });
          // if promise is successful (keeps me from putting all the logic in the callback)
          data.then(function(data){
            console.log(data, "ASynchronous");
            for (var i = 0; i < data.length; i ++){
              console.log(data[i].name);
            }
          });
          data.catch(function(){
            console.log('failure');
          })
          console.log('end');
        }
        requestDataFromDatabase();

        </script>
    </body>
</html>
